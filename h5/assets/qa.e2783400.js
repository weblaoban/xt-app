import g from"./footer.bf978988.js";import v from"./header.0e761acb.js";import{zxlist as C}from"./prod.79309155.js";import{_ as L}from"./play.9d6c989d.js";import{_ as x,r,o as a,c as _,e as m,d as o,f as p,F as B,j as $,h as k,t as u}from"./index.d4dbd848.js";import"./logo.ba36431f.js";import"./code1.b62aff72.js";const y={name:"jeZi",components:{mainFooter:g,mainHeader:v},data(){return{page:{pageSize:15,total:0,current:1},list:[],loading:!1}},mounted(){const t=this.$refs.scrollCon;t&&t.addEventListener("scroll",this.scrollBottom,!0)},created(){this.fetchList()},methods:{fetchList(){if(this.loading)return;this.loading=!0;const{page:t}=this;C({...t,status:0,categoryId:9}).then(s=>{console.log(s),this.list=this.list.concat(s.data.data.records),this.page.total=s.data.data.total,this.loading=!1}).catch(()=>{this.loading=!1})},onSelectSearch(t,s){console.log(t,s),this.selected[s]=t},goDetail(t){this.$router.push("/trustQaDetail/"+t.id)},scrollBottom(t){if(this.loading)return;const s=this.$refs.scrollList,e=this.$refs.scrollCon;console.log(e.scrollTop),console.log(e.clientHeight),console.log(s.clientHeight);const d=e.scrollTop+e.clientHeight>=s.clientHeight,{pageSize:i,total:n,current:c}=this.page;i*c<n&&d&&(this.page.current=this.page.current+1,this.fetchList())}},beforeUnmount(){const t=this.$refs.scrollCon;t&&t.removeEventListener("scroll",this.scrollBottom,!0)}},z={class:"index-container zixun"},H=o("div",{class:"banner"},null,-1),S={class:"container scrollList"},D={class:"zixunCon",ref:"scrollCon"},q={class:"zixunList",ref:"scrollList"},w=["onClick"],E={class:"itemBanner"},F=o("img",{src:L,alt:"",class:"play"},null,-1),T=["src"],b={class:"ellipsis"},j={class:"time ellipsis"};function I(t,s,e,d,i,n){const c=r("main-header"),h=r("el-col"),f=r("el-row");return a(),_("div",z,[m(c,{title:"\u4FE1\u6258\u95EE\u7B54"}),H,o("div",S,[o("div",D,[o("div",q,[m(f,null,{default:p(()=>[(a(!0),_(B,null,$(i.list,l=>(a(),k(h,{span:24,key:l.id},{default:p(()=>[o("div",{class:"qaItem",onClick:N=>n.goDetail(l)},[o("div",E,[F,o("img",{src:l.des,alt:""},null,8,T)]),o("h4",b,u(l.title),1),o("p",j,u(l.uploadTime),1)],8,w)]),_:2},1024))),128))]),_:1})],512)],512)])])}var K=x(y,[["render",I]]);export{K as default};
