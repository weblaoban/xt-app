import _ from"./footer.bf978988.js";import u from"./header.0e761acb.js";import{zxlist as p}from"./prod.79309155.js";import{_ as f,r as g,o as r,c as a,e as m,d as o,F as v,j as x,t as d}from"./index.d4dbd848.js";import"./logo.ba36431f.js";import"./code1.b62aff72.js";const C={name:"jeZi",components:{mainFooter:_,mainHeader:u},data(){return{page:{pageSize:15,total:0,current:1},list:[],loading:!1}},mounted(){const t=this.$refs.scrollCon;t&&t.addEventListener("scroll",this.scrollBottom,!0)},created(){this.fetchList()},methods:{fetchList(){if(this.loading)return;this.loading=!0;const{page:t}=this;p({...t,status:0,categoryId:8}).then(s=>{console.log(s),this.list=this.list.concat(s.data.data.records),this.page.total=s.data.data.total,this.loading=!1}).catch(()=>{this.loading=!1})},onSelectSearch(t,s){console.log(t,s),this.selected[s]=t},goDetail(t){this.$router.push("/informationDetail/"+t.id)},scrollBottom(t){if(this.loading)return;const s=this.$refs.scrollList,i=this.$refs.scrollCon;console.log(i.scrollTop),console.log(i.clientHeight),console.log(s.clientHeight);const h=i.scrollTop+i.clientHeight>=s.clientHeight,{pageSize:n,total:l,current:c}=this.page;n*c<l&&h&&(this.page.current=this.page.current+1,this.fetchList())}},beforeUnmount(){const t=this.$refs.scrollCon;t&&t.removeEventListener("scroll",this.scrollBottom,!0)}},L={class:"index-container zixun"},z=o("div",{class:"banner"},null,-1),$={class:"container scrollList"},B={class:"zixunCon",ref:"scrollCon"},k={class:"zixunList",ref:"scrollList"},y=["onClick"],H={class:"ellipsis"},S={class:"ellipsis"},D={class:"time"};function E(t,s,i,h,n,l){const c=g("main-header");return r(),a("div",L,[m(c,{active:6}),z,o("div",$,[o("div",B,[o("div",k,[(r(!0),a(v,null,x(n.list,e=>(r(),a("div",{class:"zixunItem",onClick:F=>l.goDetail(e),key:e.id},[o("h4",H,d(e.title),1),o("p",S,d(e.des),1),o("span",D,d(e.uploadTime),1)],8,y))),128))],512)],512)])])}var U=f(C,[["render",E]]);export{U as default};
